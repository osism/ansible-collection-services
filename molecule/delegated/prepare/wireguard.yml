---
- name: Update package cache
  become: true
  ansible.builtin.apt:
    update_cache: true
  when: "'Debian' in ansible_os_family"

- name: Update package cache
  become: true
  ansible.builtin.dnf:
    update_cache: true
  when: "'RedHat' in ansible_os_family"

- name: Create required group
  become: true
  ansible.builtin.group:
    name: docker
    state: present

- name: Create required user
  become: true
  ansible.builtin.user:
    name: runner
    group: docker
