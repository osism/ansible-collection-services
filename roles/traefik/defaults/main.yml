---
##########################
# docker

docker_registry: index.docker.io
docker_registry_traefik: "{{ docker_registry }}"
docker_registry_traefik_keepalived: quay.io

##########################
# operator user

operator_user: dragon
operator_group: "{{ operator_user }}"

##########################
# configuration

configuration_directory: /opt/configuration

##########################
# traefik

traefik_docker_compose_directory: /opt/traefik
traefik_certificates_directory: /opt/traefik/certificates
traefik_configuration_directory: /opt/traefik/configuration

traefik_interface: eth0
traefik_interface_address: "{{ 'traefik_interface' | kolla_address }}"

traefik_host: "{{ traefik_interface_address }}"
traefik_port: 8122

traefik_port_http: 80
traefik_port_https: 443

# traefik_certificates:
#   dashboard:
#     cert: "-----BEGIN CERTIFICATE-----..."
#     key: "-----BEGIN PRIVATE KEY-----..."
traefik_certificates: {}

traefik_tag: v2.5.4
traefik_image: "{{ docker_registry_traefik }}/traefik:{{ traefik_tag }}"

traefik_network: 172.31.101.48/28

traefik_container_name: traefik
traefik_service_name: "docker-compose@traefik"

traefik_external_network_name: traefik
traefik_external_network_cidr: 172.31.254.0/24

traefik_pilot_dashboard: false

##########################
# traefik

enable_traefik_keepalived: false

traefik_keepalived_container_name: traefik_keepalived

traefik_keepalived_tag: wallaby
traefik_keepalived_image: "{{ docker_registry_traefik_keepalived }}/osism/keepalived:{{ traefik_keepalived_tag }}"

traefik_keepalived_interface: eth0
traefik_keepalived_interface_address: "{{ 'traefik_keepalived' | kolla_address }}"
traefik_keepalived_password: password
traefik_keepalived_traffic_mode: multicast
traefik_keepalived_vip_address: 127.0.0.2
traefik_keepalived_virtual_router_id: 1
